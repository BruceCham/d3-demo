<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
</head>

<body>
    <script src="./node_modules/d3/build/d3.min.js"></script>
    <script>
    let width = 300; //画布的宽度
    let height = 300; //画布的高度

    let svg = d3.select("body") //选择文档中的body元素
        .append("svg") //添加一个svg元素
        .attr("width", width) //设定宽度
        .attr("height", height); //设定高度



    let dataset = [2.5, 2.1, 1.7, 1.3, 0.9];

    // 定义比例尺
    // d3.scale.linear新d3中已经不存在，调用方式如下
    let linear = d3.scaleLinear()
        .domain([0, d3.max(dataset)])
        .range([0, 250]);

    let rectHeight = 25; //每个矩形所占的像素高度(包括空白)

    svg.selectAll("rect")
        .data(dataset)
        .enter()
        .append("rect")
        .attr("x", 20)
        .attr("y", function(d, i) {
            return i * rectHeight;
        })
        .attr("width", function(d) {
            return linear(d); //在这里用比例尺
        })
        .attr("height", rectHeight - 2)
        .attr("fill", "steelblue");
    </script>
</body>

</html>
